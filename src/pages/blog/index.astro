---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { Navigation } from '../../components/Navigation';
import { getCollection } from 'astro:content';

const blogPosts = (await getCollection('blog')).sort(
  (a, b) => b.data.pubDate.getTime() - a.data.pubDate.getTime()
);
---

<BaseLayout title="Blog | Humanyl" description="Thoughts on building intelligent systems that work with intention">
  <div class="min-h-screen bg-white">
    <Navigation client:load />
    
    <main class="pt-32 pb-24 px-6 md:px-16">
      <div class="max-w-[1160px] mx-auto">
        <header class="mb-16 text-center">
          <h1 
            class="text-[#0F1113] mb-6"
            style="font-family: 'Instrument Serif', Georgia, serif; font-size: clamp(2rem, 5vw, 4rem); font-weight: 400; line-height: 1.1; letter-spacing: -0.02em;"
          >
            Blog
          </h1>
          <p 
            class="text-[#6b7280] max-w-2xl mx-auto"
            style="font-family: 'Instrument Sans', sans-serif; font-size: clamp(0.9375rem, 1.5vw, 1.125rem); line-height: 1.6;"
          >
            Thoughts on building intelligent systems that work with intention
          </p>
        </header>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {blogPosts.map((post) => (
            <article class="group">
              <a 
                href={`/blog/${post.slug}`}
                class="block h-full p-6 rounded-2xl border border-[#e5e5e5] hover:border-[#2CACE8]/30 transition-all duration-300 hover:shadow-md bg-white"
              >
                <time 
                  class="text-[#6b7280] text-sm mb-3 block"
                  style="font-family: 'Instrument Sans', sans-serif;"
                >
                  {post.data.pubDate.toLocaleDateString('en-US', { 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                  })}
                </time>
                
                <h2 
                  class="text-[#0F1113] mb-3 group-hover:text-[#2CACE8] transition-colors duration-300"
                  style="font-family: 'Instrument Serif', Georgia, serif; font-size: clamp(1.25rem, 2vw, 1.5rem); font-weight: 400; line-height: 1.3; letter-spacing: -0.01em;"
                >
                  {post.data.title}
                </h2>
                
                <p 
                  class="text-[#6b7280] mb-4"
                  style="font-family: 'Instrument Sans', sans-serif; font-size: 0.9375rem; line-height: 1.6;"
                >
                  {post.data.description}
                </p>
                
                {post.data.tags && post.data.tags.length > 0 && (
                  <div class="flex flex-wrap gap-2">
                    {post.data.tags.map((tag) => (
                      <span 
                        class="px-3 py-1 rounded-full text-xs bg-[#2CACE8]/10 text-[#2CACE8]"
                        style="font-family: 'Instrument Sans', sans-serif;"
                      >
                        {tag}
                      </span>
                    ))}
                  </div>
                )}
              </a>
            </article>
          ))}
        </div>

        {blogPosts.length === 0 && (
          <div class="text-center py-16">
            <p 
              class="text-[#6b7280]"
              style="font-family: 'Instrument Sans', sans-serif;"
            >
              No blog posts yet. Check back soon!
            </p>
          </div>
        )}
      </div>
    </main>
  </div>
</BaseLayout>


